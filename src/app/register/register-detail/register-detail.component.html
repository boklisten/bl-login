
<div class="row">
	<div class="col-12">
		<h2><b>{{registerDetailTitle}}</b></h2>
	</div>
</div>


<div class="row">
	<div class="col-12">
		<ngb-alert *ngIf="successMsg" type="success" (close)="successMsg = null">{{ successMsg }}</ngb-alert>
	</div>
</div>

<div class="row">
	<div class="col-12">
		<ngb-alert *ngIf="warningMsg" type="warning" (close)="warningMsg= null">{{ warningMsg }}</ngb-alert>
	</div>
</div>

<div class="row">
	<div class="col-12">
		<p>Update the details for <strong>{{username}}</strong>. To start renting items
		we need you to give us some basic information.</p>
	</div>
</div>



<form [formGroup]="registerForm">
	<div class="row mb-3">
		<div class="col-12">
			<div class="bl-input input-group md-3">
                <div class="bl-input-prepend input-group-prepend" placement="bottom" ngbTooltip="{{tooltipFullName}}">
                    <span class="input-group-text">
						<fa-icon [icon]="'user'"></fa-icon>
                    </span>
                </div>
                <input type="text" formControlName="name" class="form-control" placeholder="{{tooltipFullName}}" (keyup.enter)="onUpdateDetails()">
			</div>

			<div class="bl-input input-group md-3">
                <div class="bl-input-prepend input-group-prepend" placement="bottom" ngbTooltip="{{tooltipMobile}}">
                    <span class="input-group-text">
						<fa-icon [icon]="'phone'"></fa-icon>
                    </span>
                </div>
                <input type="number" formControlName="phone" class="form-control" placeholder="{{tooltipMobile}}" (keyup.enter)="onUpdateDetails()">

			</div>


		</div>
	</div>

	<div class="row mb-3">
		<div class="col-12">
			<div class="bl-input input-group md-3">
                <div class="bl-input-prepend input-group-prepend" placement="bottom" ngbTooltip="{{tooltipBirthday}}">
                    <span class="input-group-text">
						<fa-icon [icon]="'birthday-cake'"></fa-icon>
                    </span>
                </div>
                <input ngbDatepicker #d="ngbDatepicker" type="text" formControlName="dob" class="form-control" placeholder="{{tooltipBirthday}}" (keyup.enter)="onUpdateDetails()">

				<div class="input-group-append">
					<button class="btn btn-outline-secondary" (click)="d.toggle()" type="button">
						<fa-icon [icon]="'calendar-alt'"></fa-icon>
					</button>
				</div>
			</div>

			<div class="bl-input input-group md-3">
                <div class="bl-input-prepend input-group-prepend" placement="bottom" ngbTooltip="{{tooltipAddress}}">
                    <span class="input-group-text">
						<fa-icon [icon]="'address-card'"></fa-icon>
                    </span>
                </div>
                <input type="text" formControlName="address" class="form-control" placeholder="{{tooltipAddress}}"  (keyup.enter)="onUpdateDetails()">
				<input type="text" formControlName="postCity" class="form-control" placeholder="{{tooltipPostCity}}" (keyup.enter)="onUpdateDetails()">
				<input type="number" formControlName="postCode" class="form-control" placeholder="{{tooltipPostCode}}" (keyup.enter)="onUpdateDetails()">
			</div>
		</div>
	</div>



	<div class="row mb-3">
		<div class="col-12">
			<div class="bl-input input-group mb-3">
				<div class="input-group-prepend" ngbTooltip="{{tooltipBranch}}" placement="bottom">
					<label class="input-group-text" for="inputGroupSelect01">
						<fa-icon [icon]="'graduation-cap'"></fa-icon>
					</label>
				</div>
				<select class="custom-select" id="inputGroupSelect01" formControlName="branch" placeholder="hello">
					<option value="" disabled selected>{{tooltipSelectBranch}}</option>
					<option *ngFor="let branch of branches" value="{{branch.id}}">{{branch.name}}</option>
				</select>
			</div>
		</div>
	</div>


	<div class="row mb-3" *ngIf="showGuardianRegister()" formGroupName="guardian">
		<div class="col-12">
			<div class="row">
				<div class="col-12">
					<h4>Guardian details</h4>
				</div>
				<div class="col-12">
					<p>Since you are under the age of 18, we need details about your guardian. You can read more about why we need this by
					visiting our <a routerLink="{{userAgreementUrl}}">user agreement page.</a>
					</p>

				</div>
			</div>
			<div class="row">
				<div class="col-12">
                    <div class="bl-input input-group md-3">
                        <div class="bl-input-prepend input-group-prepend" placement="bottom" ngbTooltip="{{tooltipFullName}}">
                            <span class="input-group-text">
								<fa-icon [icon]="'user'"></fa-icon>
                            </span>
                        </div>
                        <input type="text" formControlName="name" class="form-control" placeholder="{{tooltipFullName}}" (keyup.enter)="onUpdateDetails()">
                    </div>

					<div class="bl-input input-group md-3">
                        <div class="bl-input-prepend input-group-prepend" placement="bottom" ngbTooltip="{{tooltipGuardianEmail}}">
                            <span class="input-group-text">
								<fa-icon [icon]="'at'"></fa-icon>
                            </span>
                        </div>
                        <input type="email" formControlName="email" class="form-control" placeholder="{{tooltipGuardianEmail}}" (keyup.enter)="onUpdateDetails()">
                    </div>

                    <div class="bl-input input-group md-3">
                        <div class="bl-input-prepend input-group-prepend" placement="bottom" ngbTooltip="{{tooltipMobile}}">
                            <span class="input-group-text">
                                <fa-icon [icon]="'phone'"></fa-icon>
                            </span>
                        </div>
                        <input type="number" formControlName="phone" class="form-control" placeholder="{{tooltipMobile}}" (keyup.enter)="onUpdateDetails()">

                    </div>
				</div>
			</div>
		</div>
	</div>

	<div class="row mt-5">
		<div class="col-12">
			<button type="button" class="btn btn-block btn-outline-success" (click)="onUpdateDetails()">
				Update details
			</button>
		</div>
		<div class="col-12 mt-2">
			<button type="button" class="btn btn-block btn-link" (click)="onDoItLater()">
				Do it later
			</button>
		</div>
	</div>

</form>
